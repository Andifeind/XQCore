/*!
 * XQCore - 0.4.2
 * 
 * Model View Presenter Javascript Framework
 *
 * XQCore is licenced under MIT Licence
 * http://opensource.org/licenses/MIT
 *
 * Copyright (c) 2012 - 2013 Noname Media, http://noname-media.com
 * Author Andi Heinkelein
 *
 * Creation Date: 2013-07-06
 */
(function(t,e){"function"==typeof define&&define.amd?define("xqcore",["jquery","handlebars"],e):t.XQCore=e(t.jQuery,t.Handlebars)})(this,function(t,e){var i={version:"0.4.2",defaultRoute:"default",html5Routes:!1,hashBang:"#!",callerEvent:"callerEvent"};return window.include||(window.include=function(t,e){var i=location.protocol+"//"+location.host+t;$.ajax({url:i,dataType:"script",success:e,async:!1})},window.preload=function(t){var e,i=location.protocol+"//"+location.host+t;return $.ajax({url:i,dataType:"text",success:function(t){e=t},async:!1}),{execute:function(t){eval.call(t||window,e)}}}),i._dump={},i.dump=function(t){return i._dump[t]?(console.log("[XQCore dump]",t,i._dump[t]),i._dump[t]):!1},i.Event=function(){var t,e=function(){"use strict";function t(){}function e(t,e){if(n)return e.indexOf(t);for(var i=e.length;i--;)if(e[i]===t)return i;return-1}var i=t.prototype,n=Array.prototype.indexOf?!0:!1;return i.getListeners=function(t){var e=this._events||(this._events={});return e[t]||(e[t]=[])},i.addListener=function(t,i){var n=this.getListeners(t);return-1===e(i,n)&&n.unshift(i),this},i.removeListener=function(t,i){var n=this.getListeners(t),r=e(i,n);return-1!==r&&(n.splice(r,1),0===n.length&&(this._events[t]=null)),this},i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,i){var n,r,s=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"==typeof e)for(n in e)e.hasOwnProperty(n)&&(r=e[n])&&("function"==typeof r?s.call(this,n,r):o.call(this,n,r));else for(n=i.length;n--;)s.call(this,e,i[n]);return this},i.removeEvent=function(t){return t?this._events[t]=null:this._events=null,this},i.emitEvent=function(t,e){for(var i,n=this.getListeners(t),r=n.length;r--;)i=e?n[r].apply(null,e):n[r](),i===!0&&this.removeListener(t,n[r]);return this},t}();return t=function(){this.store=[],this.ee=new e},t.prototype.emit=function(t,e){return this.debug&&console.debug("XQCore - Emit event",t,e),this.ee.emitEvent(t,[e],this)},t.prototype.on=function(t,e){return this.debug&&console.debug("XQCore - Add listener",t,e,this),this.ee.addListener(t,e)},t.prototype.once=function(t,e){var i=function(){return this.ee.removeListener(t,e),e.apply(null,arguments),!0}.bind(this);return this.debug&&console.debug("XQCore - Add once listener",t,e),this.ee.addListener(t,i)},t.prototype.off=function(t,e){return this.debug&&console.debug("XQCore - Remove listener",t,e),void 0===e?this.ee.removeEvent(t):this.ee.removeListener(t,e)},t.prototype.removeAllListener=function(){return this.debug&&console.debug("XQCore - Clear all listener"),this.ee.removeEvent()},t.prototype.getListeners=function(t){return this.ee.getListeners(t)},t}(),i.Logger=function(){function t(t){return 1e3>t?t+" ms":6e4>t?Math.round(t/100)/10+" sec":Math.round(t/6e4)+" min "+Math.round(t%6e4/1e3)+" sec"}var e=function(){};return e.prototype.log=function(){var t;this.debug&&(t=Array.prototype.slice.call(arguments),t.unshift("["+this.name+"]"),console.log.apply(console,t))},e.prototype.warn=function(){var t;this.debug&&(t=Array.prototype.slice.call(arguments),t.unshift("["+this.name+"]"),console.warn.apply(console,t))},e.prototype.error=function(){var t;this.debug&&(t=Array.prototype.slice.call(arguments),t.unshift("["+this.name+"]"),console.error.apply(console,t))},e.prototype.timer=function(e){var i={start:null,stop:null,name:e,logger:this,end:function(){this.stop=Date.now(),this.logger.log("Timer "+this.name+" runs: ",t(this.stop-this.start))}};return this.log("Start Timer",e),i.start=Date.now(),i},e.prototype.__scope={getHumanTime:t},e}(),i.GetSet=function(t,e,n,r){var s=function(t){this.properties={},this._isValid=!1,t&&(this.schema=t.schema,this.debug=Boolean(t.debug)),this.name="GetSet",n.extend(this,new i.Logger),n.extend(this,new i.Event)},o=function(t,e){return t&&(t=t.split("."),t.forEach(function(t){e=e[t]})),e};return s.prototype.set=function(){var t,e,i={},n=this.get();if(null===arguments[0])i=arguments[1],this.log("Set data",i,n);else if("object"==typeof arguments[0])i=arguments[0],this.log("Set data",i,n);else if("string"==typeof arguments[0]){i=this.get(),e=arguments[0];var r=arguments[1];i[e]=r,this.log("Set data",i,n)}else this.warn("Data are incorrect in getset.set()",arguments);return this.schema&&(t=this.validate(i),null!==t)?(this.warn("Validate error in getset.set",t),this.emit("validation.error",t),!1):this.customValidate&&(console.log("Use custom validation",this.customValidate),t=this.customValidate(i),null!==t)?(this.warn("Validate error in getset.set",t),this.emit("validation.error",t),!1):(this.properties=i,this.emit("data.change",i,n),e&&this.emit("change."+e,i[e]),!0)},s.prototype.get=function(t){return t===r?this.properties:this.properties[t]},s.prototype.has=function(t){return!!this.properties[t]},s.prototype.reset=function(){this.log("Reset getset"),this.properties={},this.removeAllListener()},s.prototype.append=function(t,e){1===arguments.length&&(e=t,t=null);var i=this.properties,n=this.get(),r=!0;return t&&t.split(".").forEach(function(t){i=i[t]}),console.log(i===this.properties),i instanceof Array?i.push(e):null===t?(this.properties=[e],i=this.get()):this.warn("GetSet.append requires an array. Dataset isn't an array",t),r&&this.emit("data.change",i,n),console.log(i,this.properties),e},s.prototype.prepend=function(t,e){1===arguments.length&&(e=t,t=null);var i=this.properties,n=this.get(),r=!0;return t&&t.split(".").forEach(function(t){i=i[t]}),i instanceof Array?i.unshift(e):null===t?(this.properties=[e],i=this.get()):this.warn("GetSet.append requires an array. Dataset isn't an array",t),r&&this.emit("data.change",i,n),e},s.prototype.remove=function(t,e){var i=this.properties,n=null;return t.split(".").forEach(function(t){i=i[t]}),i instanceof Array?(n=i.splice(e,1),n=n[0]||null):this.warn("getset.remove() doesn't work with Objects in getset",this.name),n},s.prototype.search=function(t,e){var i=o(t,this.properties);if(i)for(var n=0;i.length>n;n++){var r,s=i[n];for(var a in e)if(e.hasOwnProperty(a)){if(!s[a]||s[a]!==e[a]){r=!1;break}r=!0}if(r===!0)return s}return null},s.prototype.sortBy=function(t,e){1===arguments.length&&(e=t,t=null);var i,n=o(t,this.properties);return n.sort(function(t,n){i=-1;for(var r in e)if(i=(o(r,t)+"").localeCompare(o(r,n)+""),0!==i){-1===e[r]&&(i=i>0?-1:1);break}return i}),this.set(t,n),n},s.prototype.validate=function(t){var e=[];return this.schema&&Object.keys(this.schema).forEach(function(i){var n=this.validateOne(i,t[i]);n.isValid===!0?t[i]=n.value:e.push(n.error)}.bind(this)),0===e.length?(this._isValid=!0,null):(this._isValid=!1,e)},s.prototype.validateOne=function(t,e){var i=null,n=this.schema[t];if(console.log("Schema",n,n.match),""===e&&n.noEmpty===!0&&(e=r),e!==r&&null!==e||!n.default||(e=n.default),e!==r&&null!==e&&""!==e||n.required!==!0)if("string"===n.type)n.convert&&"number"==typeof e&&(e+=""),n.type!==typeof e?i={property:t,msg:"Property type is a "+typeof e+", but a string is required",errCode:11}:n.min&&n.min>e.length?i={property:t,msg:"String length is too short",errCode:12}:n.max&&n.max<e.length?i={property:t,msg:"String length is too long",errCode:13}:n.match&&!n.match.test(e)&&(i={property:t,msg:"String doesn't match regexp",errCode:14});else if("number"===n.type)n.convert&&"string"==typeof e&&(e=parseInt(e,10)),n.type!==typeof e?i={property:t,msg:"Property type is a "+typeof e+", but a number is required",errCode:21}:n.min&&n.min>e?i={property:t,msg:"Number is too low",errCode:22}:n.max&&e>n.max&&(i={property:t,msg:"Number is too high",errCode:23});else if("date"===n.type){if(e){var s=Date.parse(e);isNaN(s)&&(i={property:t,msg:"Property isn't a valid date",errCode:31})}}else"array"===n.type?Array.isArray(e)?n.min&&n.min>e.length?i={property:t,msg:"Array length is "+e.length+" but must be greater than "+n.min,errCode:42}:n.max&&n.max<e.length&&(i={property:t,msg:"Array length is "+e.length+" but must be lesser than "+n.max,errCode:43}):i={property:t,msg:"Property type is a "+typeof e+", but an array is required",errCode:41}:"object"===n.type?"object"!=typeof e&&(i={property:t,msg:"Property isn't a valid object",errCode:51}):"boolean"===n.type&&"object"!=typeof e&&(i={property:t,msg:"Property isn't a valid boolean",errCode:61});else i={property:t,msg:"Property is undefined or null, but it's required",errCode:10};return null===i?i={isValid:!0,value:e,error:null}:(this.warn("Validation error on property",t,i,"Data:",e),i={isValid:!1,value:e,error:i}),i},s.prototype.isValid=function(){return this._isValid},s}(window,document,t),i.Presenter=function(){var t=function(t){this.root="/",this.debug=!1,this.routes=[],t=t||{},this.customInit=t.init,this.conf=t,delete t.init,$.extend(this,t,new i.Event,new i.Logger),this.name=(t.name||"Nameless")+"Presenter",this.eventCallbacks={},this.lastShownView=null,this.registeredViews=[],this.fireViewInit=function(t){var e=!0;this.registeredViews.forEach(function(i){t===i.view&&(i.isReady=!0),i.isReady===!1&&(e=!1)}),this.viewInit(t),e===!0&&this.emit("views.ready")},this.registerView=function(t){var e;if(t instanceof Array)for(e=0;t.length>e;e++)this.registeredViews.push({view:t[e],isReady:!1});else this.registeredViews.push({view:t,isReady:!1})}};t.prototype.events={},t.prototype.init=function(t){var n,r=this,s=this.conf;if(s.routes&&(this.Router=new i.Router,Object.keys(s.routes).forEach(function(t){var e=this.routes[t];"string"==typeof e&&(e=this[e]),"function"==typeof e?this.Router.addRoute(t,e):this.warn("Router callback isn't a function",e,"of route",t)}.bind(this)),window.addEventListener("popstate",function(t){e(r,t.state)},!1),this.on("views.ready",function(){var t=i.defaultRoute;if(/^#![a-zA-Z0-9]+/.test(location.hash)&&(t=location.hash.substr(2)),t=r.Router.match(t)){var e=t.params;i.callerEvent&&(e[i.callerEvent]="pageload"),r.log("Trigger route",t,e),t.fn.call(r,t.params)}})),"function"==typeof this.customInit&&this.customInit.call(this),console.log("views",t),t instanceof Array)for(n=0;t.length>n;n++)this.registerView(t[n]);else t&&this.registerView(t);this.registeredViews.forEach(function(t){t.view.init(r)})},t.prototype.viewInit=function(){},t.prototype.pushState=function(t,e){var n=i.html5Routes||"/"===e.charAt(0)?"":i.hashBang;e=n+e,history.pushState(t,"",e||null),this.log("Update history with pushState",t,e)},t.prototype.replaceState=function(t,e){var n=i.html5Routes||"/"===e.charAt(0)?"":i.hashBang;e=n+e,history.replaceState(t,"",e||null),this.log("Update history with replaceState",t,e)},t.prototype.navigateTo=function(t,i,n){this.log("Navigate to route: ",t,i,n),n?this.replaceState(i,t):this.pushState(i,t),e(this,i)},t.prototype.getView=function(t){var e,i;for(e=0;this.registeredViews.length>e;e++)if(i=this.registeredViews[e].view,i.name===t)return i;return null},t.prototype.showView=function(t,e){var i=this.getView(t+"View");return i?(this.log("Show view:",t,e),this.log("Hide view:",this.lastShownView),this.lastShownView!==i&&(this.lastShownView&&"function"==typeof this.lastShownView.hide?(this.lastShownView.hide(),i.show()):i.show(!0)),undefined):(this.warn("View not defined!",t),undefined)};var e=function(t,e){"use strict";t.log("popstate event recived",e);var n=i.defaultRoute;if(i.html5Routes){var r=RegExp("^"+t.root);n=location.pathname.replace(r,"")}else/^#![a-zA-Z0-9]+/.test(location.hash)&&(n=location.hash.substr(2));n=t.Router.match(n),n&&(e=e||n.params,i.callerEvent&&(e[i.callerEvent]="popstate"),t.log("Trigger route",n,e),n.fn.call(t,e))};return t}(),i.Model=function(t,e,n,r){var s;return s=function(t){t===r&&(t={}),this.customInit=t.init,delete t.init,this.customValidate=t.validate,delete t.validate,this.conf=t,n.extend(this,t,new i.Logger),n.extend(this,new i.Event),this.name=(t.name||"Nameless")+"Model",this.debug=Boolean(t.debug),this.properties={},this.defaults&&!n.isEmptyObject(this.defaults)&&this.set(this.defaults),this.init()},n.extend(s.prototype,new i.GetSet),s.prototype.init=function(){this.debug&&(i._dump[this.name]=this),"function"==typeof this.customInit&&this.customInit.call(this)},s.prototype.onSend=function(t){return t},s.prototype.send=function(t,e,i){"function"==typeof e?(i=e,e=this.get()):e===r&&(e=this.get()),t===r&&(t="POST"),"function"==typeof this.onSend&&(e=this.onSend.call(this,e)),this.log("Sending an ajax call to ",this.server,"with data: ",e),n.ajax({url:this.server,type:t,data:e,dataType:"json",success:function(t,e,n){"function"==typeof i&&i.call(this,null,t,e,n)}.bind(this),error:function(t,e,n){"function"==typeof i&&i.call(this,{type:e,http:n},null,e,t)}.bind(this)})},s.prototype.sendPOST=function(t,e){this.send("POST",t,e)},s.prototype.sendGET=function(t,e){this.send("GET",t,e)},s.prototype.sendPUT=function(t,e){this.send("PUT",t,e)},s.prototype.sendDELETE=function(t,e){this.send("DELETE",t,e)},s.prototype.ready=function(t){t===!0?(Array.isArray(this.__callbacksOnReady)&&(this.log("Trigger ready state"),this.__callbacksOnReady.forEach(function(t){t.call(this)}.bind(this))),this.__isReady=!0,delete this.__callbacksOnReady):"function"==typeof t?this.__isReady===!0?t():(this.__callbacksOnReady||(this.__callbacksOnReady=[]),this.__callbacksOnReady.push(t)):this.warn("arg0 isn't a callback in model.ready()!")},s.prototype.fetch=function(t,e){this.sendGET(t,e)},s.fetch=function(t){this.sendGET(t,function(t,e){t&&console.error(t),e=this.prepare(e),this.set(e)}.bind(this))},s}(window,document,t),i.View=function(t){var n=function(t){2===arguments.length&&(this.presenter=arguments[0],t=arguments[1],console.info("Defining View with presenter is deprecated.")),t=t||{events:null},this.customInit=t.init,this.conf=t,delete t.init,$.extend(this,t,new i.Event,new i.Logger),this.name=(t.name||"Nameless")+"View",this.debug=Boolean(t.debug)};n.prototype.init=function(t){var e=this,n=this.conf;t||(t=this.presenter,t.registerView(this)),console.log("View Init2",this),this.presenter=t,$(function(){this.container=$(n.container),n.tag?(this.$el=$($.parseHTML("<"+n.tag+"/>")),this.$el.appendTo(this.container)):this.$el=this.container,this.el=this.$el.get(0),n.hidden===!0&&this.$el.hide(),n.id&&this.$el.attr("id",n.id),n.className&&this.$el.addClass(n.className),this.container.length>0?(window.addEventListener("resize",function(t){e.resize(t)},!1),this.log("Initialize view with conf:",n),this.log("  ... using Presenter:",this.presenter.name),this.log("  ... using Container:",this.container),this.events&&Object.keys(this.events).forEach(function(t){var e,n=t.indexOf(" "),s=this.events[t],o=t.substr(0,n),a=t.substr(n+1)||this.container,l=this;"function"==typeof s?e=this:0===s.indexOf("view:")?(s=this[s.substr(5)],e=this):(s=this.presenter.events[this.events[t]],"string"==typeof s&&(s=this.presenter[this.events[t]]),e=this.presenter),s&&o?"function"==typeof s?(this.container.delegate(a,o,function(t){var n=null,o=null;"submit"===t.type?n=i.Util.serializeForm(t.target):("keydown"===t.type||"keyup"===t.type||"keypress"===t.type)&&(n=$(t.target).val()),o=$.extend($(t.target).data(),{itemIndex:r.call(l,t.target)}),s.call(e,t,o,n)}),this.log("Register Event:",o,"on selector",a,"with callback",s)):this.warn("Event handler callback not defined in Presenter:",this.events[t]):this.warn("Incorect event configuration",t)},this),"function"==typeof this.customInit&&this.customInit.call(this),this.presenter.fireViewInit(this)):this.error("Can't initialize View, Container not found!",this.container)}.bind(this))},n.prototype.show=function(){this.$el.show()},n.prototype.hide=function(){this.$el.hide()},n.prototype.render=function(t){this.log("Render view template",this.template,"with data:",t);var i="function"==typeof this.template?this.template:e.compile(this.template);this.$el.html(i(t||{})),this.emit("content.change",t)},n.prototype.renderHTML=function(t,i){return this.log("Render view html snipet",t,"with data:",i),t="function"==typeof t?t:e.compile(t),t(i)},n.prototype.resize=function(){},n.prototype.append=function(t,e){this.manipulate("append",t,e)},n.prototype.prepend=function(t,e){this.manipulate("prepend",t,e)},n.prototype.remove=function(t){this.manipulate("remove",t)},n.prototype.manipulate=function(i,n,r){if(this.subSelector===t)return this.warn("You must set the subSelector option"),!1;if(this.itemTemplate===t)return this.warn("You must set the itemTemplate option"),!1;var s,o=$(this.subSelector,this.container);switch(i){case"append":s=e.compile(this.itemTemplate)(n),$(s).appendTo(o);break;case"prepend":s=e.compile(this.itemTemplate)(n),$(s).prependTo(o);break;case"remove":o.children().eq(n).remove();break;default:this.error("undefined action in view.manipulate()",i)}},n.prototype.getElementData=function(e){var i=$(e,this.container);if(i.length){var n,r={},s=i.get(0).attributes;for(n=0;s.length>n;n++)if(0===s[n].name.indexOf("data-")){var o=s[n].name.substr(5),a=s[n].value;if("string"==typeof a)try{"true"===a||"TRUE"===a?a=!0:"false"===a||"FALSE"===a?a=!1:"null"===a||"NULL"===a?a=null:"undefined"===a?a=t:+a+""===a?a=+a:(a=JSON.parse(a),console.log(a))}catch(l){}r[o]=a}return console.log("Get data",r),r}return null},n.prototype.triggerEvent=function(t,e,i,n){this.presenter.events[t].call(this.presenter,e,i,n)},n.prototype.navigateTo=function(t,e,i){this.presenter.navigateTo(t,e,i)};var r=function(t){var e=null,i=$(this.container).get(0),n=$(t),r=n.parent(),s=$(this.subSelector).get(0),o=0;if(this.subSelector)do{if(r.get(0)===s)return $(n).index();if(n=n.parent(),r=n.parent(),++o>100){console.log(n,r),console.error("Break loop!");break}}while(n.length&&n.get(0)!==i);return e};return n}(),i.Util=function(t){var e={name:"XQCore.Util",debug:!0};return e.serializeForm=function(e){var i={},n=t(e);return"INPUT"===n.get(0).tagName||(n=n.find(":input")),n.serializeArray().forEach(function(t){i[t.name]=t.value}),this.debug&&console.log("XQCore - Serialize form:",n,i),i},e.checkLength=function(t,e,i){if("Number"==typeof t){if(e>t)return"num-to-small";if(t>i)return"num-to-large"}else{if(console.log(t,t.length),e>t.length)return"str-to-short";if(t.length>i)return"str-to-long"}},e.checkEqual=function(t,e){return t!==e?"str-not-equal":void 0},e.checkEmail=function(t){return/^\S+\@\S+\.[a-z]{2,10}$/.test(t)?void 0:"invalid-email"},e.checkUrl=function(t){return/^http(s)?:\/\/\S\.[a-zA-Z]{2,10}\/?$/.test(t)?void 0:"invalid-url"},e}(t),i.Router=function(){var t=function(t){var i,n,r=[];return t instanceof RegExp?(n=t,i=""+t):(n=e(t,r),i=t),{re:n,src:""+t,keys:r}},e=function(t,e){return t=t.concat("/?").replace(/\/\(/g,"(?:/").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(t,i,n,r,s,o){return e.push(r),i=i||"",""+(o?"":i)+"(?:"+(o?i:"")+(n||"")+(s||"([^/]+?)")+")"+(o||"")}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.+)"),RegExp("^"+t+"$","i")},i=function(t,e){for(var i,n=0,r=t.length;r>n;++n){var s,o=t[n],a=o.re,l=o.keys,h=[],u={};if(i=a.exec(e)){for(s=1,r=i.length;r>s;++s){var p=l[s-1],c="string"==typeof i[s]?decodeURIComponent(i[s]):i[s];p?u[p]=c:h.push(c)}return{params:u,splats:h,route:o.src}}}},n=function(t){t=$.extend({debug:!1},t),this.debug=Boolean(t.debug),this.routes=[],this.routeMap={}};return n.prototype.addRoute=function(e,i){if(!e)throw Error(" route requires a path");if(!i)throw Error(" route "+(""+e)+" requires a callback");var n=new t(e);n.fn=i,this.routes.push(n),this.routeMap[e]=i},n.prototype.match=function(t){var e=i(this.routes,t);return e&&(e.fn=this.routeMap[e.route]),e},n.prototype.fire=function(t,e){t=this.match(t),t&&t.fn(e)},n}(),function(t,e){console.log("View slide",t);var i,n=function(){return"transition"in document.body.style?"transition":"MozTransition"in document.body.style?"MozTransition":"WebkitTransition"in document.body.style?"WebkitTransition":"OTransition"in document.body.style?"OTransition":"MsTransition"in document.body.style?"MsTransition":e};t.slideIn=function(t){if(t=$.extend({parent:this.el.parentNode,transition:"left .75s",direction:"auto"},t),i===e&&(i=n()),t.parent&&this.el){this.log("> slide plugin > Slide view",this.el,"in container",t.parent),console.log({el:t.parent,cw:t.parent.clientWidth,ow:t.parent.offsetWidth,w:t.parent.style.width});var r=t.parent.offsetWidth;this.el.style.display="block",this.el.style[i]="none",this.el.style.left=r+"px",window.setTimeout(function(){this.el.style[i]=t.transition,this.el.style.left="0"}.bind(this))}else this.warn("> slide plugin > Can't slide view! View or parent not found! View",this.el,"in container",t.parent)},t.slideOut=function(t){if(t=$.extend({parent:this.el.parentNode,transition:"left .75s",direction:"auto"},t),i===e&&(i=n()),t.parent&&this.el){this.log("> slide plugin > Slide view",this.el,"in container",t.parent),console.log({el:t.parent,cw:t.parent.clientWidth,ow:t.parent.offsetWidth,w:t.parent.style.width});var r=t.parent.offsetWidth;this.el.style[i]=t.transition,this.el.style.left=r+"px";var s=function(){+this.el.style.left.replace("px","")>=r?(this.el.style.display="none",this.el.style[i]="none"):console.warn("Old transitionEndFunc???",this.el,+this.el.style.left.replace("px",""),this.el.style[i]),this.el.removeEventListener("transitionend",s)}.bind(this);this.el.addEventListener("transitionend",s)}else this.warn("> slide plugin > Can't slide view! View or parent not found! View",this.el,"in container",t.parent)}}(i.View.prototype),i});